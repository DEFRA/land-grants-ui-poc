{"version":3,"file":"SelectionControlField.js","names":["ListFormComponent","SelectionControlField","getViewModel","payload","errors","options","viewModel","fieldset","items","label","legend","text","classes","map","item","selected","checked","itemModel","bold"],"sources":["../../../../../src/server/plugins/engine/components/SelectionControlField.ts"],"sourcesContent":["import { ListFormComponent } from '~/src/server/plugins/engine/components/ListFormComponent.js'\nimport { type ListItem } from '~/src/server/plugins/engine/components/types.js'\nimport {\n  type FormPayload,\n  type FormSubmissionError\n} from '~/src/server/plugins/engine/types.js'\n\n/**\n * \"Selection controls\" are checkboxes and radios (and switches), as per Material UI nomenclature.\n */\nexport class SelectionControlField extends ListFormComponent {\n  getViewModel(payload: FormPayload, errors?: FormSubmissionError[]) {\n    const { options } = this\n\n    const viewModel = super.getViewModel(payload, errors)\n    let { fieldset, items, label } = viewModel\n\n    fieldset ??= {\n      legend: {\n        text: label.text,\n        classes: 'govuk-fieldset__legend--m'\n      }\n    }\n\n    items = items.map((item) => {\n      const { selected: checked } = item\n      const itemModel = { ...item, checked } satisfies ListItem\n\n      if ('bold' in options && options.bold) {\n        itemModel.label ??= {}\n        itemModel.label.classes = 'govuk-label--s'\n      }\n\n      return itemModel\n    })\n\n    return {\n      ...viewModel,\n      fieldset,\n      items\n    }\n  }\n}\n"],"mappings":"AAAA,SAASA,iBAAiB;AAO1B;AACA;AACA;AACA,OAAO,MAAMC,qBAAqB,SAASD,iBAAiB,CAAC;EAC3DE,YAAYA,CAACC,OAAoB,EAAEC,MAA8B,EAAE;IACjE,MAAM;MAAEC;IAAQ,CAAC,GAAG,IAAI;IAExB,MAAMC,SAAS,GAAG,KAAK,CAACJ,YAAY,CAACC,OAAO,EAAEC,MAAM,CAAC;IACrD,IAAI;MAAEG,QAAQ;MAAEC,KAAK;MAAEC;IAAM,CAAC,GAAGH,SAAS;IAE1CC,QAAQ,KAAK;MACXG,MAAM,EAAE;QACNC,IAAI,EAAEF,KAAK,CAACE,IAAI;QAChBC,OAAO,EAAE;MACX;IACF,CAAC;IAEDJ,KAAK,GAAGA,KAAK,CAACK,GAAG,CAAEC,IAAI,IAAK;MAC1B,MAAM;QAAEC,QAAQ,EAAEC;MAAQ,CAAC,GAAGF,IAAI;MAClC,MAAMG,SAAS,GAAG;QAAE,GAAGH,IAAI;QAAEE;MAAQ,CAAoB;MAEzD,IAAI,MAAM,IAAIX,OAAO,IAAIA,OAAO,CAACa,IAAI,EAAE;QACrCD,SAAS,CAACR,KAAK,KAAK,CAAC,CAAC;QACtBQ,SAAS,CAACR,KAAK,CAACG,OAAO,GAAG,gBAAgB;MAC5C;MAEA,OAAOK,SAAS;IAClB,CAAC,CAAC;IAEF,OAAO;MACL,GAAGX,SAAS;MACZC,QAAQ;MACRC;IACF,CAAC;EACH;AACF","ignoreList":[]}